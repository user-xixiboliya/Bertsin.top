import{_ as K}from"./SakuraPage.vue_vue_type_style_index_0_lang.C_2lPi0O.js";import{_ as N}from"./SakuraPostList.Cwi1vCnC.js";import{u as L}from"./chunks/vue-i18n.BL0vpfZG.js";import{a as D,u as R}from"./chunks/vue-router.B9NR9R8I.js";import{c as T,e as U,g as j,a as F,h as M,b as O,d as W}from"./app.4jWjdvhl.js";import{z as B,B as $,w as S,H,a9 as z,a7 as a,ab as i,F as k,af as _,ak as C,M as d,ah as q,a8 as g,an as y,ac as b,J as h,a6 as J,ai as G,am as V}from"./framework.DzKjdSDt.js";import"./chunks/dayjs.BdcnXKr1.js";import"./SakuraMultiColumns.vue_vue_type_script_setup_true_lang.BgduAWkd.js";import"./SakuraPageHeader.DAeAvZyc.js";import"./SakuraImageCard.DGjj2Ais.js";import"./SakuraPostDate.EwMfksyt.js";import"./chunks/pinia.BVoyrWVf.js";/* empty css                    */import"./chunks/nprogress.DW8bJ2OO.js";function Q(e){const c=B(!1),{top:p}=T(e);return U(e,([{isIntersecting:s}])=>{c.value=s}),{show:()=>{c.value||window.scrollTo(0,p.value)}}}const X={class:"category-list-item inline-flex cursor-pointer items-center"},Y={key:0,"i-ri-folder-add-line":""},Z={key:1,style:{color:"var(--sakura-c-primary)"},"i-ri-folder-reduce-line":""},I={key:0},ee={m:"l-1",font:"serif black"},te=$({__name:"SakuraCategory",props:{parentKey:{},category:{},level:{},collapsable:{type:Boolean,default:!0}},setup(e){const c=e,p=D(),o=R(),s=S(()=>{const t=o.query.category||"";return Array.isArray(t)?[t]:t.split("/")}),u=B(c.collapsable),{t:m}=L(),{locale:f}=L();function r(t){const n=f.value==="zh-CN"?"zh":f.value;return t[`title_${n}`]?t[`title_${n}`]:t.title}const v=B(),{show:x}=Q(v);function w(t){p.push({query:{category:t}}),x()}return H(()=>{const t=document.querySelector(".post-collapse-container");t&&(v.value=t)}),(t,n)=>{const A=z("SakuraCategory",!0),E=z("RouterLink");return a(),i(k,null,[_("li",X,[_("span",{class:"folder-action inline-flex",onClick:n[0]||(n[0]=l=>u.value=!u.value)},[u.value?(a(),i("div",Y)):(a(),i("div",Z))]),_("span",{class:"category-name",m:"l-1",onClick:n[1]||(n[1]=l=>w(e.parentKey))},C(e.category.name==="Uncategorized"?d(m)("category.uncategorized"):e.category.name)+" ["+C(e.category.total)+"] ",1)]),u.value?b("v-if",!0):(a(),i("ul",I,[(a(!0),i(k,null,q(e.category.children.values(),(l,P)=>(a(),i("li",{key:P,class:"sakura-sidebar-item",m:"l-4 y-1"},[d(j)(l)?(a(),g(A,{key:0,"parent-key":e.parentKey?`${e.parentKey}/${l.name}`:l.name,category:l,collapsable:!s.value.includes(l.name)},null,8,["parent-key","category","collapsable"])):(a(),i(k,{key:1},[l.title?(a(),g(E,{key:0,to:l.path||"",class:"inline-flex items-center"},{default:y(()=>[n[2]||(n[2]=_("div",{"i-ri-file-text-line":""},null,-1)),_("span",ee,C(r(l)),1)]),_:2},1032,["to"])):b("v-if",!0)],64))]))),128))]))],64)}}}),ae=$({__name:"SakuraCategories",props:{categories:{},level:{default:0},collapsable:{type:Boolean,default:!0}},setup(e){const c=R(),p=S(()=>{const o=c.query.category||"";return Array.isArray(o)?[o]:o.split("/")});return(o,s)=>{const u=te;return a(!0),i(k,null,q(e.categories.values(),m=>(a(),i("ul",{key:m.name,class:"category-list",m:"l-4"},[h(u,{"parent-key":m.name,category:m,level:e.level+1,collapsable:!p.value.includes(m.name)},null,8,["parent-key","category","level","collapsable"])]))),128)}}}),oe=J(ae,[["__scopeId","data-v-0cabec59"]]),se={text:"center",class:"yun-text-light",p:"2"},ne={key:0},re=$({__name:"SakuraCategoriesLayout",setup(e){const c=F(),{t:p}=L(),o=R(),s=S(()=>o.query.category||""),u=M(),m=S(()=>c.postList.filter(r=>r.categories&&s.value!=="Uncategorized"?typeof r.categories=="string"?r.categories===s.value:r.categories.join("/").startsWith(s.value)&&r.categories[0]===s.value.split("/")[0]:!r.categories&&s.value==="Uncategorized"?r.categories===void 0:!1));return(f,r)=>{const v=oe,x=N,w=z("RouterView"),t=K;return a(),g(t,{class:"sakura-categories-page"},{default:y(()=>[h(w,null,{default:y(({Component:n})=>[(a(),g(G(n),null,{"main-content":y(()=>[V(f.$slots,"content",{},()=>[_("div",null,[_("div",se,C(d(p)("counter.categories",Array.from(d(u).children).length)),1),h(v,{categories:d(u).children},null,8,["categories"])])])]),"main-nav-before":y(()=>[V(f.$slots,"posts",{},()=>[s.value?(a(),i("div",ne,[h(x,{w:"full",posts:m.value},null,8,["posts"])])):b("v-if",!0),b(` <SakuraCard v-if="curCategory" class="post-collapse-container" m="t-4" w="full">
            <SakuraPostCollapse w="full" m="b-4" p="x-20 lt-sm:x-5" :posts="posts" />
          </SakuraCard> `)])]),_:3}))]),_:3})]),_:3})}}}),he=$({__name:"categories",setup(e){return O([W({"@type":"CollectionPage"})]),(c,p)=>{const o=re;return a(),g(o)}}});export{he as default};
