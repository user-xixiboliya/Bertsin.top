import{r as d,D as g}from"./app.4jWjdvhl.js";import"./chunks/vue-i18n.BL0vpfZG.js";import"./chunks/dayjs.BdcnXKr1.js";import{w as v,z as p}from"./framework.DzKjdSDt.js";function u(t){return Array.isArray(t)?t.map(r=>u(r)):t!==null&&typeof t=="object"?Object.fromEntries(Object.entries(t).map(([r,a])=>[r.replace(/_([a-z])/g,(n,e)=>e.toUpperCase()),u(a)])):t}function y(t,r){let a="";r?.args?.length!==0&&(a=[...new Set(r.args)].map(l=>`c=${l}`).join("&"));const s=r.minLength!==void 0?`&min_length=${r.minLength}`:"",n=r.maxLength!==void 0?`&max_length=${r.maxLength}`:"",e=`${a}${s}${n}`,o=e.startsWith("&")?e.substring(1):e;return`${t}/?${o}`}function A(t){return t&&typeof t=="object"}function f(){const t=d();return v(()=>({...t.value.addons["valaxy-addon-hitokoto"].options}))}function w(t=null){const r=f(),a="https://international.v1.hitokoto.cn",s="https://v1.hitokoto.cn",n=p({id:0,uuid:"",hitokoto:"",type:"",from:"",fromWho:"",creator:"",creatorUid:0,reviewer:0,commitFrom:"",createdAt:"",length:0}),e=async(o=t||r.value)=>{A(o)||console.error("Invalid argument: fetchOptions must be of type HitokotoOptions",o);const m=o.api==="intl"?a:o.api||s,l=y(m,o);try{const c=await fetch(l);if(!c.ok)throw new Error("Network response was not ok.");const i=await c.json();Array.isArray(i)?n.value.hitokoto=i[0]:typeof i=="object"?n.value=u(i):typeof i=="string"&&(n.value.hitokoto=i)}catch(c){console.error("Error fetching visitor count:",c)}};return e(),{hitokoto:n,fetchHitokoto:e}}var h=(t=>(t.Animation="a",t.Comic="b",t.Game="c",t.Literature="d",t.Original="e",t.FromInternet="f",t.Others="g",t.Movie="h",t.Poetry="i",t.NetEaseCloud="j",t.Philosophy="k",t.Wit="l",t))(h||{});const k=Object.freeze(Object.defineProperty({__proto__:null,HitokotoType:h,useAddonHitokoto:w,useAddonHitokotoConfig:f},Symbol.toStringTag,{value:"Module"}));g(k)&&console.warn("Please install valaxy-addon-hitokoto");export{k as a};
