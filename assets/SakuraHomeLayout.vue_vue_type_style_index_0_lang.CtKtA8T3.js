import"./chunks/vue-i18n.BL0vpfZG.js";import{B as b,w as _,a9 as ye,a7 as h,ab as m,a8 as S,an as x,af as v,ac as w,F as P,ah as U,al as A,aj as z,ak as Z,z as j,H as G,I as ne,M as f,a6 as E,J as I,ag as re,x as H,at as _e,am as T,ao as W,aB as ke,ar as we,aA as Te}from"./framework.DzKjdSDt.js";import{q as Q,j as M,o as C,y as ae,z as Se,A as be,B as Ae,C as Pe}from"./app.4jWjdvhl.js";import"./chunks/dayjs.BdcnXKr1.js";import{_ as Ie}from"./SakuraMultiColumns.vue_vue_type_script_setup_true_lang.BgduAWkd.js";import{a as Ce,_ as Ee}from"./SakuraPostList.Cwi1vCnC.js";import{_ as xe,i as Ne}from"./SakuraImageCard.DGjj2Ais.js";import{a as Re}from"./chunks/vue-router.B9NR9R8I.js";import{a as Le}from"./hitokoto.JtW0IgeZ.js";function He(){const s=Re();function e(n){return typeof n=="string"&&n.startsWith("http")}function t(n){e(n)?window.location.href=n:s.push({path:n})}return{isExternalLink:e,to:t}}const Me={class:"pagination"},Ve=b({__name:"ValaxyPagination",props:{curPage:{},total:{},pageSize:{}},emits:["pageChange"],setup(s,{emit:e}){const t=s,n=e,r=_(()=>Math.ceil(t.total/t.pageSize)),a=_(()=>t.curPage===1||t.curPage===r.value?3:2);function u(i){return i===1||i===r.value?!0:i>t.curPage-a.value&&i<t.curPage+a.value}function l(i){return n("pageChange",i),i===1?"/":`/page/${i}`}return(i,o)=>{const c=ye("RouterLink");return h(),m("nav",Me,[s.curPage!==1?(h(),S(c,{key:0,class:"page-number",to:l(s.curPage-1),"aria-label":"prev"},{default:x(()=>[...o[0]||(o[0]=[v("div",{"i-ri-arrow-left-s-line":""},null,-1)])]),_:1},8,["to"])):w("v-if",!0),(h(!0),m(P,null,U(r.value,p=>(h(),m(P,null,[u(p)?(h(),S(c,{key:p,class:A(["page-number",s.curPage===p&&"active"]),to:l(p)},{default:x(()=>[z(Z(p),1)]),_:2},1032,["class","to"])):p===s.curPage-a.value?(h(),m("span",{key:`prev-space-${p}`,class:"space",disabled:""}," ... ")):p===s.curPage+a.value?(h(),m("span",{key:`next-space-${p}`,class:"space",disabled:""}," ... ")):w("v-if",!0)],64))),256)),s.curPage!==r.value?(h(),S(c,{key:1,class:"page-number",to:l(s.curPage+1),"aria-label":"next"},{default:x(()=>[...o[1]||(o[1]=[v("div",{"i-ri-arrow-right-s-line":""},null,-1)])]),_:1},8,["to"])):w("v-if",!0)])}}}),$e=b({__name:"SakuraPaginationStandard",props:{pageSize:{},total:{}},setup(s){const e=s,t=Q(),n=M(),r=C(),a=ae({type:""}),u=_(()=>a.value),l=_(()=>n.curPage||1),i=_(()=>e.pageSize||r.value.pagination?.itemsPerPage||t.value.pageSize);return(o,c)=>{const p=Ve;return h(),S(p,{"cur-page":l.value,"page-size":i.value,total:s.total||u.value.length},null,8,["cur-page","page-size","total"])}}}),qe={class:"sakura-pagination-scroll mb-17 mt-20 flex justify-center"},Be={key:1,class:"text-center"},De=b({__name:"SakuraPaginationInfiniteScroll",setup(s){const e=Q(),t=M(),n=C(),r=ae({type:""}),a=n.value.pagination,u=_(()=>a?.itemsPerPage||e.value.pageSize),l=_(()=>r.value),i=_(()=>a?.animation?"sakura-fade-up":"identification"),o=j(Math.ceil(l.value.length/u.value));function c(){t.loadMultiple<o.value&&(t.loadMultiple+=1,(a?.animation||a?.infiniteScrollOptions?.preload)&&y())}function p(g,k){g.forEach(V=>{V.isIntersecting&&!V.target.classList.contains(i.value)&&(V.target.classList.add(i.value),t.paginationElementPositionsNumber+=1,t.paginationElementPositionsNumber===t.paginationTargets.length-1&&a?.infiniteScrollOptions?.preload&&c())})}function y(){setTimeout(()=>{t.paginationTargets=Array.from(document.querySelectorAll(".article-list"));for(let g=t.paginationElementPositionsNumber;g<t.paginationTargets.length;g++){const k=document.getElementById(`article-${g}`);if(k===null){console.error(`Element with ID 'article-${g}' not found. This may prevent preload from working properly.`);return}a?.animation&&k.classList.add("op-0"),t.paginationObserver.observe(k)}},0)}function d(){t.paginationTargets.forEach(g=>{t.paginationObserver?.unobserve(g)})}return G(()=>{(a?.animation||a?.infiniteScrollOptions?.preload)&&(t.paginationTargets.length===0&&(t.paginationObserver=new IntersectionObserver(p,{threshold:a.infiniteScrollOptions?.threshold??.01})),y())}),ne(()=>{d()}),(g,k)=>(h(),m("nav",qe,[f(t).loadMultiple<o.value?(h(),m("button",{key:0,class:"load-more-button px-8 py-2",onClick:c}," Previous ")):(h(),m("div",Be," 很高兴你翻到这里，但是真的没有了... "))]))}}),Ue=E(De,[["__scopeId","data-v-1e652f97"]]),Fe=b({__name:"SakuraPagination",setup(s){const e=C();return(t,n)=>{const r=Ue,a=$e;return h(),m(P,null,[f(e).pagination.type==="infinite-scroll"?(h(),S(r,{key:0})):w("v-if",!0),f(e).pagination.type==="standard"?(h(),S(a,{key:1})):w("v-if",!0)],64)}}}),Oe={key:0,class:"sakura-pinned-post <md:hidden"},ze={class:"sakura-card sakura-pinned-post-card flex"},We=b({__name:"SakuraPinnedPost",props:{text:{},entries:{},icon:{}},setup(s){const e=s,t=C(),n=He(),r=_(()=>e.icon??t.value.ui.pinnedPost?.icon),a=_(()=>e.text??t.value.pinnedPost?.text),u=_(()=>e.entries??t.value.pinnedPost?.entries),l=_(()=>t.value.ui.pinnedPost?.image);return(i,o)=>{const c=Ce,p=xe;return u.value?.length?(h(),m("div",Oe,[I(c,{icon:r.value,text:a.value},null,8,["icon","text"]),v("div",ze,[(h(!0),m(P,null,U(u.value,(y,d)=>(h(),S(p,re({key:d},{ref_for:!0},l.value,{"data-title":y.title,to:y.link,"data-desc":y.desc,overlay:!0,src:y.img,class:y.link?"cursor-pointer":"",onClick:g=>f(n).to(y.link||"")}),null,16,["data-title","to","data-desc","src","class","onClick"]))),128))])])):w("v-if",!0)}}}),Ze=E(We,[["__scopeId","data-v-3082e64d"]]),je={key:0,m:"b-5 t-10",p5:"",class:"sakura-notice-board sakura-card",flex:"~ items-center"},Ge={class:"notice-board-content relative transition-all duration-500 md:px-8 <md:pt-6"},Qe=["innerHTML"],Je=b({__name:"SakuraNoticeBoard",props:{icon:{},message:{}},setup(s){const e=s,t=C(),n=_(()=>e.message||t.value.notice?.message),r=_(()=>e.icon||t.value.ui.notice?.icon);return(a,u)=>n.value?(h(),m("div",je,[v("div",Ge,[v("span",{class:A([r.value,"notice-icon absolute left-1 top-1.3 inline-block transition-all duration-500 <md:left-50% <md:top-0"])},null,2),v("span",{class:"notice-message",innerHTML:n.value},null,8,Qe)])])):w("v-if",!0)}}),Ye=E(Je,[["__scopeId","data-v-b303189d"]]),Xe=b({__name:"SakuraScrollDown",props:{icon:{}},setup(s){const e=s,t=C(),{toDown:n}=Se(),r=_(()=>e.icon||t.value.ui.scrollDown?.icon);return(a,u)=>r.value?(h(),m("button",{key:0,class:"sakura-scroll-down",onClick:u[0]||(u[0]=(...l)=>f(n)&&f(n)(...l))},[v("span",{class:A([r.value,"sakura-scroll-down-icon sakura-loop-float inline-block"])},null,2)])):w("v-if",!0)}}),Ke=E(Xe,[["__scopeId","data-v-e80b26bd"]]),et="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAtFBMVEUAAABdTFRfTlZfTlZeTVVeTVVfTlZfTlZfTlZfTlZfTlZfTlZeTVVfTlZfTlZfTlZfTlZeTVVfTlZfTlbw7+Pf3NN6a26xn5ReTVXy8eW+rJ7p59zj4ddqWmHr6t7d2tDt7ODg3tTm5NrU0Mi9q52Sh4iJfX9vYGVoWF9jUlqqop+mlIvIw73RzcXY183JxL2UiYrMx8C3pZiflZSDdXh/cnXGwbuqmI+aj4+Pg4WyrKismpAMEQlmAAAAFHRSTlMA/Ng36d+lkmYqwRjqhoFAM+jGF+k1jLEAAAG4SURBVDjLjVNpd4IwEIQIHlSttkE2EoIBuSx42/P//69my6W0fe18YN9jJ7PJ7qzWYjTsE0PX56Q/HGnf0RuYOmRpkqQZ6Oag10nfTcbgxZtd6Pthvok9MKZ3N8cfwDsVgjFGqfqI4uSBdSVyT+B8oCqJEJwLRg9nIPfNeQJ7yehqVRKCQCgdGQGZVfUfYB8w6tqcXoEFEVjlPSZwliiPAtcMeYHJV4Gxd8C8ayu4baQs98Z40QGcKOajhULk1hH/vcJA9c9Mn1HcXjw5ztPCriMSCs8caUM95iXBWa8dJDjLpYpKU6xifaj1YcNoSTgerwkKbAN9jWQ7Rm8V1seXirDLiGakYUnAk11CmBqanvi0IXRKUD/R/ybMsUTAedghNCVIlqs5BG5NqC9L1fBYnpH6mawt8eGUBM6peiY2SnRfsawUBDZqZHoF+7nVDFvdGdberWI7LK1n/D5u48uX08owleEaw9gXmJaWsyAKaFBmhFvn+RtYj41pI4mZFitqv6FpW9tfnjnfSnvLpS99zov3Bdq+wcyCZJ9vFcf2fbmVeZyBNftt9Xa4evPp47+Xt7v+xu36fwLwPlAPnsX7kwAAAABJRU5ErkJggg==",tt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAABAlBMVEUAAABfTlZeTVVdS1ReTVVeTVVfTlZfTlZfTlZfTlZfTlZeTVVfTlZfTlZfTlZfTlZfTlZfTlZfTlZfTlZfTlZfTlZfTlZfTlZfTlbw7+Py8eVeTVW9q52akI/u7OHi4NWUgn1qWmHm5Nm+rJ7e29Hr6d7k4tjU0MiJfX9vYGVoWF/g3tSqop+/rZ5jUlrp59yCdXjRzcXIw72RhYbb2s/Y18zNyMHGwLq9t7G5qJqCcnN9b3J8a2x4aGzJxL22pJiViori4dbV0smhl5ayoJWdk5KejIWLf4GId3WxqaalnJq4ppmkkoqYhoGPfHl0ZGjJxb7CvLa1sKq4p5qpl45iU1lqIFriAAAAGXRSTlMA2On8+9+SZjcqGOrFv6akhoE1QTrVMBfpaHUHFAAAAftJREFUOMuNU+dy4jAQtk0PnbST1pFiYxuDOTC99wC55JLr7/8qJ0suhMzN5fuhGe1+23elCJlUQVbicUUupjLSe6STiRi0GvV6owWxRDJ9pr4oZUGzm8uaYdS6TVsDpXxxqr/KgbbrmBhjhNhjdvYa5CqR/lIGd4gw0jcbE3nAaOiCfBnay7CmmMnbus4IguL0QK748XOw1jE6A9Z7kBd5lMDl9sR6y3CmUOL1ZbUhtx/P9n1OJD6jq2W9apOwE4K76ePsC4tFnTbyJZBk/UtoHSy+99Wvc/cHQcIDIbijJTJSKmabyCd8rk5eFuua+FKKiB1LSQXYWSFBVasPr4sn6qeCm1CQ5NYIoSDEaqVW1d9Td2zyqHjZkiWlUcMh4flZZU4mh/lxyAm1hiLF6waKQghUV/ffRp6ZUY//g/AaEUQIEhEm6uSw6A1JEEJudTFq05AweTjMwyS7LMkiNLmHsMzHRZOKtL0yi2eN+vWyuNuKL+u3yRp13mp7RHBAEK1mw9oTcjosjmhYUlppjC0x7qe+UIfjVvhyl8E1uMKj6Xq0MDMoByvXCz2324HeYit3K3FUZOg5b5ZSt/TtEa5vTtZ+OqLWgBoDixq0T+n25xyur6QQlTzU192BtRk4/b4zcL7bfyB/8+70juL0lt7pfSrffvB4/3v+fwF0OGfEMV9avwAAAABJRU5ErkJggg==",st=["src"],it=b({__name:"SakuraPlayer",setup(s){const e=M(),t=_(()=>e.wallpaperIsPlaying?et:tt);return(n,r)=>(h(),m("img",{src:t.value,"z-5":"",class:"sakura-player sakura-loop-fly cursor-pointer",style:{"animation-duration":"2s","--translate-distance":"0.2em"},onClick:r[0]||(r[0]=(...a)=>f(e).togglePlayPause&&f(e).togglePlayPause(...a))},null,8,st))}}),oe=s=>Array.isArray(s),le=s=>oe(s)?s:[s];let nt=function(s){let e=function(g){return le(g).forEach(k=>d.set(Symbol(k.char?.innerText),r({...k}))),this},t=()=>i().filter(g=>g.typeable),n=function(g,k){let V=[...d.keys()];d.set(V[g],r(k))},r=g=>(g.shouldPauseCursor=function(){return!!(this.typeable||this.cursorable||this.deletable)},g),a=function(){d.forEach(g=>delete g.done)},u=function(){d=new Map,e(s)},l=()=>d,i=()=>Array.from(d.values()),o=g=>d.delete(g),c=()=>{const g=[];for(let[,k]of l())k.done||g.push(k);return g},p=(g=!1)=>g?i():i().filter(k=>!k.done),y=(g,k=!1)=>k?d.delete(g):d.get(g).done=!0,d=new Map;return e(s),{add:e,set:n,wipe:u,done:y,reset:a,destroy:o,getItems:p,getQueue:l,getTypeable:t,getPendingQueueItems:c}};const ue="data-typeit-id",N="ti-cursor",rt="END",at={started:!1,completed:!1,frozen:!1,destroyed:!1},L={breakLines:!0,cursor:{autoPause:!0,autoPauseDelay:500,animation:{frames:[0,0,1].map(s=>({opacity:s})),options:{iterations:1/0,easing:"steps(2, start)",fill:"forwards"}}},cursorChar:"|",cursorSpeed:1e3,deleteSpeed:null,html:!0,lifeLike:!0,loop:!1,loopDelay:750,nextStringDelay:750,speed:100,startDelay:250,startDelete:!1,strings:[],waitUntilVisible:!1,beforeString:()=>{},afterString:()=>{},beforeStep:()=>{},afterStep:()=>{},afterComplete:()=>{}},ot=`[${ue}]:before {content: '.'; display: inline-block; width: 0; visibility: hidden;}`,D=s=>document.createElement(s),J=s=>document.createTextNode(s),he=(s,e="")=>{let t=D("style");t.id=e,t.appendChild(J(s)),document.head.appendChild(t)},K=s=>(oe(s)||(s=[s/2,s/2]),s),ee=(s,e)=>Math.abs(Math.random()*(s+e-(s-e))+(s-e));let te=s=>s/2;function lt(s){let{speed:e,deleteSpeed:t,lifeLike:n}=s;return t=t!==null?t:e/3,n?[ee(e,te(e)),ee(t,te(t))]:[e,t]}const ce=s=>Array.from(s);let Y=s=>([...s.childNodes].forEach(e=>{if(e.nodeValue){[...e.nodeValue].forEach(t=>{e.parentNode.insertBefore(J(t),e)}),e.remove();return}Y(e)}),s);const de=s=>{let e=document.implementation.createHTMLDocument();return e.body.innerHTML=s,Y(e.body)};function pe(s,e=!1,t=!1){let n=s.querySelector(`.${N}`),r=document.createTreeWalker(s,NodeFilter.SHOW_ALL,{acceptNode:l=>{if(n&&t){if(l.classList?.contains(N))return NodeFilter.FILTER_ACCEPT;if(n.contains(l))return NodeFilter.FILTER_REJECT}return l.classList?.contains(N)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}}),a,u=[];for(;a=r.nextNode();)a.originalParent||(a.originalParent=a.parentNode),u.push(a);return e?u.reverse():u}function ut(s){return pe(de(s))}function ht(s,e=!0){return e?ut(s):ce(s).map(J)}const ct=({index:s,newIndex:e,queueItems:t,cleanUp:n})=>{for(let r=s+1;r<e+1;r++)n(t[r][0])},fe=s=>Number.isInteger(s),se=({queueItems:s,selector:e,cursorPosition:t,to:n})=>{if(fe(e))return e*-1;let r=new RegExp(rt,"i").test(n),a=e?[...s].reverse().findIndex(({char:l})=>{let i=l.parentElement,o=i.matches(e);return r&&o?!0:o&&i.firstChild.isSameNode(l)}):-1;a<0&&(a=r?0:s.length-1);let u=r?0:1;return a-t+u},dt=s=>(s.forEach(clearTimeout),[]),q=(s,e)=>new Array(e).fill(s);let F=s=>new Promise(e=>{requestAnimationFrame(async()=>{e(await s())})}),me=s=>s?.getAnimations().find(e=>e.id===s.dataset.tiAnimationId),ge=({cursor:s,frames:e,options:t})=>{let n=s.animate(e,t);return n.pause(),n.id=s.dataset.tiAnimationId,F(()=>{F(()=>{n.play()})}),n},pt=({cursor:s,options:e,cursorOptions:t})=>{if(!s||!t)return;let n=me(s),r;n&&(e.delay=n.effect.getComputedTiming().delay,r=n.currentTime,n.cancel());let a=ge({cursor:s,frames:t.animation.frames,options:e});return r&&(a.currentTime=r),a},ie=s=>s.func?.call(null),ft=async({index:s,queueItems:e,wait:t,cursor:n,cursorOptions:r})=>{let a=e[s][1],u=[],l=s,i=a,o=()=>i&&!i.delay,c=a.shouldPauseCursor()&&r.autoPause;for(;o();)u.push(i),o()&&l++,i=e[l]?e[l][1]:null;if(u.length)return await F(async()=>{for(let d of u)await ie(d)}),l-1;let p=me(n),y;return p&&(y={...p.effect.getComputedTiming(),delay:c?r.autoPauseDelay:0}),await t(async()=>{p&&c&&p.cancel(),await F(()=>{ie(a)})},a.delay),await pt({cursor:n,options:y,cursorOptions:r}),s};const mt=(s,e)=>{new IntersectionObserver((n,r)=>{n.forEach(a=>{a.isIntersecting&&(e(),r.unobserve(s))})},{threshold:1}).observe(s)},gt=()=>Math.random().toString().substring(2,9),O=s=>"value"in s;let vt=s=>O(s)?ce(s.value):pe(s,!0).filter(e=>!(e.childNodes.length>0)),R=s=>typeof s=="function"?s():s,X=(s,e=document,t=!1)=>e[`querySelector${t?"All":""}`](s),yt=s=>/body/i.test(s?.tagName),_t=(s,e)=>{if(O(s)){s.value=`${s.value}${e.textContent}`;return}e.innerHTML="";let t=yt(e.originalParent)?s:e.originalParent||s,n=X("."+N,t)||null;n&&n.parentElement!==t&&(t=n.parentElement),t.insertBefore(e,n)};const kt=s=>/<(.+)>(.*?)<\/(.+)>/.test(s.outerHTML),$=(s,e)=>Object.assign({},s,e);let wt=s=>{if(typeof s=="object"){let e={},{frames:t,options:n}=L.cursor.animation;return e.animation=s.animation||{},e.animation.frames=s.animation?.frames||t,e.animation.options=$(n,s.animation?.options||{}),e.autoPause=s.autoPause??L.cursor.autoPause,e.autoPauseDelay=s.autoPauseDelay||L.cursor.autoPauseDelay,e}return s===!0?L.cursor:s};const Tt=(s,e)=>{if(!s)return;let t=s.parentNode;(t.childNodes.length>1||t.isSameNode(e)?s:t).remove()},St=(s,e,t)=>{let n=e[t-1],r=X(`.${N}`,s);s=n?.parentNode||s,s.insertBefore(r,n||null)};function bt(s){return typeof s=="string"?X(s):s}let At={"font-family":"","font-weight":"","font-size":"","font-style":"","line-height":"",color:"",transform:"translateX(-.125em)"},Pt=(s,e)=>{let n=`${`[${ue}='${s}']`} .${N}`,r=getComputedStyle(e),a=Object.entries(At).reduce((u,[l,i])=>`${u} ${l}: var(--ti-cursor-${l}, ${i||r[l]});`,"");he(`${n} { display: inline-block; width: 0; ${a} }`,s)};function It(s){return s.replace(/<!--(.+?)-->/g,"").trim().split(/<br(?:\s*?)(?:\/)?>/)}let Ct=(s,e,t)=>Math.min(Math.max(e+s,0),t.length),Et=(s,e,t)=>new Promise(n=>{let r=async()=>{await s(),n()};t.push(setTimeout(r,e||0))});class xt{element;timeouts;cursorPosition;predictedCursorPosition;statuses={started:!1,completed:!1,frozen:!1,destroyed:!1,firing:!1};opts;id;queue;cursor;flushCallback=null;unfreeze=()=>{};constructor(e,t={}){this.opts=$(L,t),this.element=bt(e),this.timeouts=[],this.cursorPosition=0,this.unfreeze=()=>{},this.predictedCursorPosition=null,this.statuses=$({},at),this.id=gt(),this.queue=nt([{delay:this.opts.startDelay}]),this.#T(t),this.cursor=this.#b(),this.element.dataset.typeitId=this.id,he(ot),this.opts.strings.length&&this.#w()}go(){return this.statuses.started?this:(this.#m(),this.opts.waitUntilVisible?(mt(this.element,this.#i.bind(this)),this):(this.#i(),this))}destroy(e=!0){this.timeouts=dt(this.timeouts),R(e)&&this.cursor&&this.#c(this.cursor),this.statuses.destroyed=!0}reset(e){!this.is("destroyed")&&this.destroy(),e?(this.queue.wipe(),e(this)):this.queue.reset(),this.cursorPosition=0;for(let t in this.statuses)this.statuses[t]=!1;return this.element[this.#u()?"value":"innerHTML"]="",this}is=function(e){return this.statuses[e]};type(e,t={}){e=R(e);let{instant:n}=t,r=this.#n(t),u=ht(e,this.opts.html).map(i=>({func:()=>this.#h(i),char:i,delay:n||kt(i)?0:this.#s(),typeable:i.nodeType===Node.TEXT_NODE})),l=[r[0],{func:async()=>await this.opts.beforeString(e,this)},...u,{func:async()=>await this.opts.afterString(e,this)},r[1]];return this.#e(l,t)}break(e={}){return this.#e({func:()=>this.#h(D("BR")),typeable:!0},e)}move(e,t={}){e=R(e);let n=this.#n(t),{instant:r,to:a}=t,u=se({queueItems:this.queue.getTypeable(),selector:e===null?"":e,to:a,cursorPosition:this.#o}),l=u<0?-1:1;return this.predictedCursorPosition=this.#o+u,this.#e([n[0],...q({func:()=>this.#d(l),delay:r?0:this.#s(),cursorable:!0},Math.abs(u)),n[1]],t)}exec(e,t={}){let n=this.#n(t);return this.#e([n[0],{func:()=>e(this)},n[1]],t)}options(e,t={}){return e=R(e),this.#r(e),this.#e({},t)}pause(e,t={}){return this.#e({delay:R(e)},t)}delete(e=null,t={}){e=R(e);let n=this.#n(t),r=e,{instant:a,to:u}=t,l=this.queue.getTypeable(),i=r===null?l.length:fe(r)?r:se({queueItems:l,selector:r,cursorPosition:this.#o,to:u});return this.#e([n[0],...q({func:this.#a.bind(this),delay:a?0:this.#s(1),deletable:!0},i),n[1]],t)}freeze(){this.statuses.frozen=!0}flush(e=null){return this.flushCallback=e||this.flushCallback,this.statuses.firing?this:(this.#m(),this.#i(!1).then(()=>{if(this.queue.getPendingQueueItems().length>0)return this.flush();this.flushCallback(),this.flushCallback=null}),this)}getQueue(){return this.queue}getOptions(){return this.opts}updateOptions(e){return this.#r(e)}getElement(){return this.element}empty(e={}){return this.#e({func:this.#y.bind(this)},e)}async#y(){if(this.#u()){this.element.value="";return}this.#t.forEach(this.#c.bind(this))}async#i(e=!0){this.statuses.started=!0,this.statuses.firing=!0;let t=n=>{this.queue.done(n,!e)};try{let n=[...this.queue.getQueue()];for(let a=0;a<n.length;a++){let[u,l]=n[a];if(!l.done){if(!l.deletable||l.deletable&&this.#t.length){let i=await this.#p(a,n);ct({index:a,newIndex:i,queueItems:n,cleanUp:t}),a=i}t(u)}}if(!e)return this.statuses.firing=!1,this;if(this.statuses.completed=!0,this.statuses.firing=!1,await this.opts.afterComplete(this),!this.opts.loop)throw"";let r=this.opts.loopDelay;this.#f(async()=>{await this.#_(r[0]),this.#i()},r[1])}catch{}return this.statuses.firing=!1,this}async#d(e){this.cursorPosition=Ct(e,this.cursorPosition,this.#t),St(this.element,this.#t,this.cursorPosition)}async#_(e){let t=this.#o;t&&await this.#d({value:t});let n=this.#t.map(r=>[Symbol(),{func:this.#a.bind(this),delay:this.#s(1),deletable:!0,shouldPauseCursor:()=>!0}]);for(let r=0;r<n.length;r++)await this.#p(r,n);this.queue.reset(),this.queue.set(0,{delay:e})}#p(e,t){return ft({index:e,queueItems:t,wait:this.#f.bind(this),cursor:this.cursor,cursorOptions:this.opts.cursor})}async#f(e,t,n=!1){this.statuses.frozen&&await new Promise(r=>{this.unfreeze=()=>{this.statuses.frozen=!1,r()}}),n||await this.opts.beforeStep(this),await Et(e,t,this.timeouts),n||await this.opts.afterStep(this)}async#m(){if(!this.#u()&&this.cursor&&this.element.appendChild(this.cursor),this.#v){Pt(this.id,this.element),this.cursor.dataset.tiAnimationId=this.id;let{animation:e}=this.opts.cursor,{frames:t,options:n}=e;ge({frames:t,cursor:this.cursor,options:{duration:this.opts.cursorSpeed,...n}})}}#u(){return O(this.element)}#e(e,t){return this.queue.add(e),this.#k(t),this}#k(e={}){let t=e.delay;t&&this.queue.add({delay:t})}#n(e={}){return[{func:()=>this.#r(e)},{func:()=>this.#r(this.opts)}]}async#r(e){this.opts=$(this.opts,e)}#w(){let e=this.opts.strings.filter(t=>!!t);e.forEach((t,n)=>{if(this.type(t),n+1===e.length)return;let r=this.opts.breakLines?[{func:()=>this.#h(D("BR")),typeable:!0}]:q({func:this.#a.bind(this),delay:this.#s(1)},this.queue.getTypeable().length);this.#g(r)})}#T=e=>{this.opts.cursor=wt(e.cursor??L.cursor),this.opts.strings=this.#S(le(this.opts.strings)),this.opts=$(this.opts,{html:!this.#l&&this.opts.html,nextStringDelay:K(this.opts.nextStringDelay),loopDelay:K(this.opts.loopDelay)})};#S(e){let t=this.element.innerHTML;return t?(this.element.innerHTML="",this.opts.startDelete?(this.element.innerHTML=t,Y(this.element),this.#g(q({func:this.#a.bind(this),delay:this.#s(1),deletable:!0},this.#t.length)),e):It(t).concat(e)):e}#b(){if(this.#l)return null;let e=D("span");return e.className=N,this.#v?(e.innerHTML=de(this.opts.cursorChar).innerHTML,e):(e.style.visibility="hidden",e)}#g(e){let t=this.opts.nextStringDelay;this.queue.add([{delay:t[0]},...e,{delay:t[1]}])}#h(e){_t(this.element,e)}#a(){this.#t.length&&(this.#l?this.element.value=this.element.value.slice(0,-1):this.#c(this.#t[this.cursorPosition]))}#c(e){Tt(e,this.element)}#s(e=0){return lt(this.opts)[e]}get#o(){return this.predictedCursorPosition??this.cursorPosition}get#l(){return O(this.element)}get#v(){return!!this.opts.cursor&&!this.#l}get#t(){return vt(this.element)}}const ve=b({__name:"SakuraTypewriter",props:{delay:{default:75},deleteSpeed:{},loop:{type:Boolean},pauseFor:{},typeString:{default:""},deleteAll:{type:[Number,Boolean,Array]}},emits:["typingFinished","deletionFinished","allTypingFinished"],setup(s,{emit:e}){const t=s,n=e,r=j(null);let a=!1,u=null;function l(i){const o={deleteSpeed:t.deleteSpeed,loop:t.loop};u===null&&(u=new xt(r.value,o)),i.forEach((c,p)=>{if(u.type(c),typeof t.pauseFor=="number"?u.pause(t.pauseFor):Array.isArray(t.pauseFor)&&u.pause(t.pauseFor[p]),u.exec(()=>n("typingFinished")),p===i.length-1&&u.exec(()=>n("allTypingFinished")),t.deleteAll===!0)u.delete();else if(typeof t.deleteAll=="number")for(let y=0;y<c.length;y++)u.delete(1,{delay:t.deleteAll});else if(Array.isArray(t.deleteAll))for(let y=0;y<c.length;y++)u.delete(1,{delay:t.deleteAll[p]})}),u.flush(()=>{n("deletionFinished"),a&&(u=u.reset(),l(Array.isArray(t.typeString)?t.typeString:[t.typeString]),a=!1)})}return H(()=>t.typeString,()=>a=!0),G(()=>{t.typeString?l(Array.isArray(t.typeString)?t.typeString:[t.typeString]):be(()=>t.typeString,()=>{l(Array.isArray(t.typeString)?t.typeString:[t.typeString])})}),ne(()=>u?.destroy()),(i,o)=>(h(),m("span",{ref_key:"typewriterElement",ref:r},null,512))}}),Nt=["data-text"],Rt=b({__name:"SakuraGlitchText",props:{text:{},delay:{},deleteSpeed:{},loop:{type:Boolean},pauseFor:{},typeString:{},deleteAll:{type:[Number,Boolean,Array]}},setup(s){const e=s;return(t,n)=>{const r=ve;return h(),m("h1",{class:"sakura-glitch-text","data-text":e.text||e.typeString},[e.text?(h(),m(P,{key:0},[z(Z(e.text),1)],64)):e.typeString?(h(),S(r,_e(re({key:1},e)),null,16)):w("v-if",!0)],8,Nt)}}}),Lt=E(Rt,[["__scopeId","data-v-dcc26e09"]]),B="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1519637140387'%20class='icon'%20style=''%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='1300'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cdefs%3e%3cstyle%20type='text/css'%3e%3c/style%3e%3c/defs%3e%3cpath%20d='M658.997935%20371.960547l-221.708498-221.709521c-32.652677-32.651654-85.591377-32.651654-118.244055%200-32.652677%2032.652677-32.652677%2085.591377%200%20118.244055l210.686467%20210.243375c15.095813%2017.272385%2017.229406%2044.333718%200%2061.45363L319.045383%20751.324714c-32.652677%2032.652677-32.652677%2085.590354%200%20118.242008%2032.652677%2032.652677%2085.591377%2032.652677%20118.244055%200L658.992819%20647.862317C753.919818%20552.936341%20758.562559%20471.524147%20658.997935%20371.960547L658.997935%20371.960547zM658.997935%20371.960547'%20p-id='1301'%20fill='%231296db'%3e%3c/path%3e%3c/svg%3e",Ht={class:"sakura-hero-info-overlay"},Mt={class:"px-2 text-lg"},Vt={class:"mx-5 mt-4 flex justify-between"},$t=["href"],qt=["src"],Bt={class:"mx-5 justify-between",flex:"~ center"},Dt=["href"],Ut=["src"],Ft=b({__name:"SakuraHeroInfoOverlay",props:{hero:{}},setup(s){const e=s,t=Q(),n=M(),r=C(),a=_(()=>e.hero||r.value.hero),u=_(()=>a.value.socials||t.value.social),{hitokoto:l,fetchHitokoto:i}=_(()=>a.value.enableHitokoto?Le?.useAddonHitokoto(r.value.hero.hitokoto)||{}:{hitokoto:void 0,fetchHitokoto:()=>{}}).value;return(o,c)=>{const p=Lt,y=ve;return h(),m("div",Ht,[T(o.$slots,"highlighted-text",{},()=>[I(p,{class:A(f(n).wallpaperIsPlaying?"sakura-fade-out-up":"sakura-fade-in-down"),text:a.value.title},null,8,["class","text"])],!0),v("div",{class:A(["sakura-info-card",f(n).wallpaperIsPlaying?"sakura-slit-out-horizontal":"sakura-slit-in-horizontal"])},[v("div",{class:A(f(r).hero.socialStyle==="merge"&&"sakura-social-card")},[T(o.$slots,"muted-text",{},()=>[v("div",{class:A(["flex justify-center",f(r).hero.socialStyle==="separate"&&"sakura-social-card"])},[c[5]||(c[5]=v("span",{class:"inline-block","i-fa6-solid-quote-left":""},null,-1)),v("span",Mt,[f(r).hero.typewriter?(h(),m(P,{key:0},[a.value.enableHitokoto?(h(),S(y,{key:1,"type-string":f(l)?.hitokoto,loop:"",delay:100,"pause-for":1e4,"delete-all":100,onAllTypingFinished:c[0]||(c[0]=d=>f(i)())},null,8,["type-string"])):(h(),S(y,{key:0,"type-string":a.value.motto,loop:"",delay:100,"pause-for":1e4,"delete-all":100},null,8,["type-string"]))],64)):(h(),m(P,{key:1},[z(Z(a.value.enableHitokoto?f(l)?.hitokoto:a.value.motto),1)],64))]),c[6]||(c[6]=v("span",{class:"inline-block","i-fa6-solid-quote-right":""},null,-1))],2)],!0),f(r).hero.socialStyle==="merge"?T(o.$slots,"social",{key:0},()=>[v("div",Vt,[v("img",{class:"sakura-icon","rotate-180":"","cursor-pointer":"",src:B,alt:"Previous media",onClick:c[1]||(c[1]=(...d)=>f(n).prevWallpaper&&f(n).prevWallpaper(...d))}),(h(!0),m(P,null,U(u.value,d=>(h(),m("a",{key:d?.name,style:W({"--sakura-color-icon":d?.color}),href:d?.link,"aria-label":"icon",target:"_blank"},[d?.icon?(h(),m("div",{key:0,class:A([[d.icon],"sakura-icon"])},null,2)):d?.img?(h(),m("img",{key:1,src:d.img,class:"sakura-icon"},null,8,qt)):w("v-if",!0)],12,$t))),128)),v("img",{class:"sakura-icon","cursor-pointer":"",src:B,alt:"Next media",onClick:c[2]||(c[2]=(...d)=>f(n).nextWallpaper&&f(n).nextWallpaper(...d))})])],!0):w("v-if",!0)],2)],2),f(r).hero.socialStyle==="separate"||f(r).hero.socialStyle==="single"?T(o.$slots,"social",{key:0},()=>[v("div",{class:A(["sakura-info-card",f(r).hero.socialStyle==="separate"&&"sakura-social-card"])},[v("div",Bt,[v("img",{class:"sakura-icon","rotate-180":"","cursor-pointer":"",src:B,alt:"Previous media",onClick:c[3]||(c[3]=(...d)=>f(n).prevWallpaper&&f(n).prevWallpaper(...d))}),(h(!0),m(P,null,U(u.value,d=>(h(),m("a",{key:d?.name,flex:"~ center",class:A(f(r).hero.socialStyle==="single"&&"sakura-social-card"),style:W({"--sakura-color-icon":d?.color}),href:d?.link,"aria-label":"icon",target:"_blank"},[d?.icon?(h(),m("div",{key:0,class:A([[d.icon],"sakura-icon"])},null,2)):d?.img?(h(),m("img",{key:1,src:d.img,class:"sakura-icon"},null,8,Ut)):w("v-if",!0)],14,Dt))),128)),v("img",{class:"sakura-icon","cursor-pointer":"",src:B,alt:"Next media",onClick:c[4]||(c[4]=(...d)=>f(n).nextWallpaper&&f(n).nextWallpaper(...d))})])],2)],!0):w("v-if",!0)])}}}),Ot=E(Ft,[["__scopeId","data-v-c2a97ac7"]]),zt={},Wt={class:"sakura-waves-ripple",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 24 150 28",preserveAspectRatio:"none","shape-rendering":"auto"};function Zt(s,e){return h(),m("svg",Wt,[...e[0]||(e[0]=[ke('<defs data-v-cc8caced><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" data-v-cc8caced></path></defs><g class="sakura-waves-ripple-parallax" data-v-cc8caced><use xlink:href="#gentle-wave" x="48" y="0" fill="rgba(255,255,255,0.7" data-v-cc8caced></use><use xlink:href="#gentle-wave" x="48" y="3" fill="rgba(255,255,255,0.5)" data-v-cc8caced></use><use xlink:href="#gentle-wave" x="48" y="5" fill="rgba(255,255,255,0.3)" data-v-cc8caced></use><use xlink:href="#gentle-wave" x="48" y="7" fill="oklch(100% 0 0)" data-v-cc8caced></use></g>',2)])])}const jt=E(zt,[["render",Zt],["__scopeId","data-v-cc8caced"]]),Gt={};function Qt(s,e){return h(),m(P,null,[e[0]||(e[0]=v("div",{class:"front-wave absolute bottom-0 z-0 h-65px w-[400%]"},null,-1)),e[1]||(e[1]=v("div",{class:"foreground-wave absolute bottom-0 z-1 h-80px w-[400%]"},null,-1))],64)}const Jt=E(Gt,[["render",Qt],["__scopeId","data-v-87a0f620"]]),Yt={id:"j-fish-skip",class:"absolute bottom--50px h-180px w-full"},Xt=b({__name:"SakuraWaveFish",props:{color:{}},setup(s){const e=s,t=Ae();let n;H(()=>t.isDark,async()=>{setTimeout(()=>{n.updateFishColor()},0)});class r{constructor(i){this.props=i,this.POINT_INTERVAL=5,this.FISH_COUNT=3,this.MAX_INTERVAL_COUNT=50,this.INIT_HEIGHT_RATE=.5,this.THRESHOLD=50,this.WATCH_INTERVAL=100,this.fishColor="",this.points=[],this.fishes=[],this.watchIds=[]}init(){this.updateFishColor(this.props.color),this.setParameters(),this.reconstructMethods(),this.setup(),this.bindEvent(),this.render()}getComputedDefaultColor(){return window.getComputedStyle(window?.document?.documentElement).getPropertyValue("--sakura-color-background")?.trim()}updateFishColor(i){this.fishColor=i||this.getComputedDefaultColor()}setParameters(){this.window=window,this.container=document.getElementById("j-fish-skip"),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.container.appendChild(this.canvas),this.points=[],this.fishes=[],this.watchIds=[]}createSurfacePoints(){const i=Math.round(this.width/this.POINT_INTERVAL);this.pointInterval=this.width/(i-1),this.points.push(new a(this,0));for(let o=1;o<i;o++){const c=new a(this,o*this.pointInterval),p=this.points[o-1];c.setPreviousPoint(p),p.setNextPoint(c),this.points.push(c)}}reconstructMethods(){this.watchWindowSize=this.watchWindowSize.bind(this),this.jdugeToStopResize=this.jdugeToStopResize.bind(this),this.startEpicenter=this.startEpicenter.bind(this),this.moveEpicenter=this.moveEpicenter.bind(this),this.reverseVertical=this.reverseVertical.bind(this),this.render=this.render.bind(this)}setup(){this.points.length=0,this.fishes.length=0,this.watchIds.length=0,this.intervalCount=this.MAX_INTERVAL_COUNT,this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,this.fishCount=this.FISH_COUNT*this.width/500*this.height/500,this.canvas.setAttribute("width",this.width.toString()),this.canvas.setAttribute("height",this.height.toString()),this.reverse=!1,this.fishes.push(new u(this)),this.createSurfacePoints()}watchWindowSize(){this.clearTimer(),this.tempWidth=window.innerWidth,this.tempHeight=window.innerHeight,this.watchIds.push(setTimeout(this.jdugeToStopResize,this.WATCH_INTERVAL))}clearTimer(){for(;this.watchIds.length>0;)clearTimeout(this.watchIds.pop())}jdugeToStopResize(){const i=window.innerWidth,o=window.innerHeight,c=i===this.tempWidth&&o===this.tempHeight;this.tempWidth=i,this.tempHeight=o,c&&this.setup()}bindEvent(){window.addEventListener("resize",this.watchWindowSize.bind(this)),this.container.addEventListener("mouseenter",this.startEpicenter.bind(this)),this.container.addEventListener("mousemove",this.moveEpicenter.bind(this))}getAxis(i){const o=this.container.getBoundingClientRect();return{x:i.clientX-o.left+window.scrollX,y:i.clientY-o.top+window.scrollY}}startEpicenter(i){this.axis=this.getAxis(i)}moveEpicenter(i){const o=this.getAxis(i);this.axis||(this.axis=o),this.generateEpicenter(o.x,o.y,o.y-this.axis.y),this.axis=o}generateEpicenter(i,o,c){if(!(o<this.height/2-this.THRESHOLD||o>this.height/2+this.THRESHOLD)){const p=Math.round(i/this.pointInterval);p<0||p>=this.points.length||this.points[p].interfere(o,c)}}reverseVertical(){this.reverse=!this.reverse;for(let i=0,o=this.fishes.length;i<o;i++)this.fishes[i].reverseVertical()}controlStatus(){for(let i=0,o=this.points.length;i<o;i++)this.points[i].updateSelf();for(let i=0,o=this.points.length;i<o;i++)this.points[i].updateNeighbors();this.fishes.length<this.fishCount&&--this.intervalCount===0&&(this.intervalCount=this.MAX_INTERVAL_COUNT,this.fishes.push(new u(this)))}render(){requestAnimationFrame(()=>this.render()),this.controlStatus(),this.context.clearRect(0,0,this.width,this.height),this.context.fillStyle=this.fishColor;for(let i=0,o=this.fishes.length;i<o;i++)this.fishes[i].render(this.context);this.context.save(),this.context.globalCompositeOperation="xor",this.context.beginPath(),this.context.moveTo(0,this.reverse?0:this.height);for(let i=0,o=this.points.length;i<o;i++)this.points[i].render(this.context);this.context.lineTo(this.width,this.reverse?0:this.height),this.context.closePath(),this.context.fill(),this.context.restore()}}class a{constructor(i,o){this.SPRING_CONSTANT=.03,this.SPRING_FRICTION=.9,this.WAVE_SPREAD=.3,this.ACCELARATION_RATE=.01,this.renderer=i,this.x=o,this.init()}init(){this.initHeight=this.renderer.height*this.renderer.INIT_HEIGHT_RATE,this.height=this.initHeight,this.fy=0,this.force={previous:0,next:0}}setPreviousPoint(i){this.previous=i}setNextPoint(i){this.next=i}interfere(i,o){this.fy=this.renderer.height*this.ACCELARATION_RATE*(this.renderer.height-this.height-i>=0?-1:1)*Math.abs(o)}updateSelf(){this.fy+=this.SPRING_CONSTANT*(this.initHeight-this.height),this.fy*=this.SPRING_FRICTION,this.height+=this.fy}updateNeighbors(){this.previous&&(this.force.previous=this.WAVE_SPREAD*(this.height-this.previous.height)),this.next&&(this.force.next=this.WAVE_SPREAD*(this.height-this.next.height))}render(i){this.previous&&(this.previous.height+=this.force.previous,this.previous.fy+=this.force.previous),this.next&&(this.next.height+=this.force.next,this.next.fy+=this.force.next),i.lineTo(this.x,this.renderer.height-this.height)}}class u{constructor(i){this.GRAVITY=.4,this.renderer=i,this.init()}init(){this.direction=Math.random()<.5,this.x=this.direction?this.renderer.width+this.renderer.THRESHOLD:-this.renderer.THRESHOLD,this.previousY=this.y,this.vx=this.getRandomValue(4,10)*(this.direction?-1:1),this.renderer.reverse?(this.y=this.getRandomValue(1*this.renderer.height/10,4*this.renderer.height/10),this.vy=this.getRandomValue(2,5),this.ay=this.getRandomValue(.05,.2)):(this.y=this.getRandomValue(6*this.renderer.height/10,9*this.renderer.height/10),this.vy=this.getRandomValue(-5,-2),this.ay=this.getRandomValue(-.2,-.05)),this.isOut=!1,this.theta=0,this.phi=0}getRandomValue(i,o){return i+(o-i)*Math.random()}reverseVertical(){this.isOut=!this.isOut,this.ay*=-1}controlStatus(){this.previousY=this.y,this.x+=this.vx,this.y+=this.vy,this.vy+=this.ay,this.renderer.reverse?this.y>this.renderer.height*this.renderer.INIT_HEIGHT_RATE?(this.vy-=this.GRAVITY,this.isOut=!0):(this.isOut&&(this.ay=this.getRandomValue(.05,.2)),this.isOut=!1):this.y<this.renderer.height*this.renderer.INIT_HEIGHT_RATE?(this.vy+=this.GRAVITY,this.isOut=!0):(this.isOut&&(this.ay=this.getRandomValue(-.2,-.05)),this.isOut=!1),this.isOut||(this.theta+=Math.PI/20,this.theta%=2*Math.PI,this.phi+=Math.PI/30,this.phi%=2*Math.PI),this.renderer.generateEpicenter(this.x+(this.direction?-1:1)*this.renderer.THRESHOLD,this.y,this.y-this.previousY),(this.vx>0&&this.x>this.renderer.width+this.renderer.THRESHOLD||this.vx<0&&this.x<-this.renderer.THRESHOLD)&&this.init()}render(i){i.save(),i.translate(this.x,this.y),i.rotate(Math.PI+Math.atan2(this.vy,this.vx)),i.scale(1,this.direction?1:-1),i.beginPath(),i.moveTo(-30,0),i.bezierCurveTo(-20,15,15,10,40,0),i.bezierCurveTo(15,-10,-20,-15,-30,0),i.fill(),i.save(),i.translate(40,0),i.scale(.9+.2*Math.sin(this.theta),1),i.beginPath(),i.moveTo(0,0),i.quadraticCurveTo(5,10,20,8),i.quadraticCurveTo(12,5,10,0),i.quadraticCurveTo(12,-5,20,-8),i.quadraticCurveTo(5,-10,0,0),i.fill(),i.restore(),i.save(),i.translate(-3,0),i.rotate((Math.PI/3+Math.PI/10*Math.sin(this.phi))*(this.renderer.reverse?-1:1)),i.beginPath(),this.renderer.reverse?(i.moveTo(5,0),i.bezierCurveTo(10,10,10,30,0,40),i.bezierCurveTo(-12,25,-8,10,0,0)):(i.moveTo(-5,0),i.bezierCurveTo(-10,-10,-10,-30,0,-40),i.bezierCurveTo(12,-25,8,-10,0,0)),i.closePath(),i.fill(),i.restore(),i.restore(),this.controlStatus()}}return G(()=>{n=new r(e),n.init()}),(l,i)=>(h(),m("div",Yt))}}),Kt={class:"sakura-hero-background"},es=["loop","muted","disablePictureInPicture"],ts=["src"],ss={key:1,class:"sakura-hero-background-default h-full w-full"},is=b({__name:"SakuraHeroBackground",props:{urls:{}},setup(s){const e=s,t=j([]),n=M(),r=C(),a=_(()=>e.urls||r.value.hero.urls||""),u=_(()=>r.value.hero),l=_(()=>{if(typeof a.value=="string")return a.value;if(u.value.randomUrls){let o=null;do{const c=u.value.urls.length;o=Math.floor(Math.random()*c)}while(t.value.includes(o));return a.value[o]}return a.value[n.wallpaperIndex]}),i=_(()=>Ne(l.value));return H(()=>n.wallpaperIndex,(o,c)=>{const p=u.value.urls.length;t.value.length===p&&(t.value=[]),t.value.push(c)}),H(()=>n.wallpaperIndex,()=>{n.wallpaperIndex>=a.value.length&&(n.wallpaperIndex=0)},{immediate:!0}),H(()=>a.value.length,o=>{n.wallpaperLength=o},{immediate:!0}),(o,c)=>(h(),m("div",Kt,[I(we,{name:f(n).wallpaperOperation==="nextMedia"?"slide-right":f(n).wallpaperOperation==="prevMedia"?"slide-left":"fade",mode:"out-in"},{default:x(()=>[f(n).wallpaperIsPlaying||i.value?(h(),m("video",{key:f(n).wallpaperIsPlaying?u.value.playerUrl:l.value,class:"min-h-full min-w-full object-cover",preload:"auto",autoplay:"",loop:!f(n).wallpaperIsPlaying,muted:!f(n).wallpaperIsPlaying,disablePictureInPicture:u.value.disablePictureInPicture,onEnded:c[0]||(c[0]=p=>f(n).wallpaperIsPlaying=!1)},[v("source",{src:f(n).wallpaperIsPlaying?u.value.playerUrl:l.value,type:"video/mp4"},null,8,ts),c[1]||(c[1]=z(" Your browser does not support video tags ",-1))],40,es)):(h(),m(P,{key:1},[l.value?(h(),m("div",{key:l.value,class:"sakura-hero-background-img",style:W({backgroundImage:`url(${l.value})`,backgroundAttachment:u.value.fixedImg?"fixed":"scroll"})},null,4)):(h(),m("div",ss))],64))]),_:1},8,["name"])]))}}),ns={class:"sakura-hero <md:px-5"},rs={"z-4":"",class:"info-overlay"},as=b({__name:"SakuraHero",props:{hero:{}},setup(s){const e=s,t=C(),n=M(),r=Pe(),a=_(()=>e.hero||t.value.hero),u=_(()=>n.wallpaperIsPlaying?"sakura-fade-out-down":"sakura-fade-in-up");return H(()=>n.wallpaperIsPlaying,l=>{const i=document.querySelector(".sakura-navbar");i?.classList.toggle("sakura-fade-in-down",!l),i?.classList.toggle("sakura-fade-out-up",l);const o=document.querySelector("#live2d-tool-quit"),c=document.querySelector("#live2d-tools");(l&&c?.className==="show"||!l&&c?.className==="hide")&&o instanceof HTMLElement&&o.click()}),(l,i)=>{const o=is,c=Xt,p=Jt,y=jt,d=Ot,g=it,k=Ke;return h(),m("header",ns,[f(r)?(h(),m(P,{key:0},[v("div",{class:A(["absolute inset-0 overflow-hidden",[!f(n).wallpaperIsPlaying&&a.value.style&&"hero-style",a.value.style]])},[T(l.$slots,"background",{},()=>[I(o,{urls:a.value?.urls},null,8,["urls"])]),a.value?.waveTheme?(h(),m("div",{key:0,class:A(u.value)},[T(l.$slots,"overlay-bar",{},()=>[a.value.waveTheme==="fish"?(h(),S(c,{key:0})):a.value.waveTheme==="horizontal"?(h(),S(p,{key:1})):a.value.waveTheme==="ripple"?(h(),S(y,{key:2})):w("v-if",!0)])],2)):w("v-if",!0)],2),v("div",rs,[T(l.$slots,"info-overlay",{},()=>[I(d,{hero:a.value},null,8,["hero"])])]),T(l.$slots,"player",{},()=>[a.value?.playerUrl?(h(),S(g,{key:0,class:"absolute bottom-2 right-2 z-4 h-8 w-8"})):w("v-if",!0)]),v("div",{class:A([u.value,"absolute bottom-12 right-50% z-4"])},[T(l.$slots,"scroll-down",{},()=>[f(t).scrollDown?.enable?(h(),S(k,{key:0})):w("v-if",!0)])],2)],64)):w("v-if",!0)])}}}),os={class:"sakura-home",flex:"~ col center"},vs=b({__name:"SakuraHomeLayout",setup(s){const e=C();return(t,n)=>{const r=as,a=Ye,u=Ze,l=Ee,i=Ie,o=Fe;return h(),m(P,null,[T(t.$slots,"hero",{},()=>[I(r)]),v("div",os,[I(i,{class:"sakura-safe-padding sakura-home-layout sakura-site-content",base:""},Te({default:x(()=>[T(t.$slots,"notice-board",{},()=>[I(a)]),T(t.$slots,"post-pinned",{},()=>[f(e).pinnedPost?(h(),S(u,{key:0})):w("v-if",!0)]),T(t.$slots,"post-list",{},()=>[I(l)])]),_:2},[t.$slots.right?{name:"right",fn:x(()=>[T(t.$slots,"right")]),key:"0"}:void 0,t.$slots.left?{name:"left",fn:x(()=>[T(t.$slots,"left")]),key:"1"}:void 0]),1024),T(t.$slots,"pagination",{},()=>[I(o)])])],64)}}});export{vs as _};
